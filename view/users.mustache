<html>
    <head>

   


</script>

    </head>
    <body>
        <h1>USERS</h1>
        <br><br>
        <a href="inseriruserform">Inserir user</a>   
        <br><br>
        <label for="idpesquisa">Pesquisa por id:</label><br>
        <input type="number" id="idpesquisa" name="idpesquisa"><button type="button" onclick="pesquisar()">Pesquisar</button>
        <br>
        <input type="number" id="idelimina" name="idelimina"><button type="button" onclick="eliminar()">Eliminar</button>
        <br><br>
        <table align="center" style="text-align: center;">
            {{#tabela}}
                <tr style="background-color: black; color: white;"> <td> Id </td> <td> Nome </td> <td> Email </td> <td> Telemovel </td> <td> Telemovel (secund√°rio) </td> <td> Administrador </td> </tr>
  
            {{/tabela}}

        {{#users}}
                <tr>
                    <td>{{idconta}}</td>
                    <td>{{nomeConta}}</td>
                    <td>{{emailConta}}</td>
                    <td>{{telemovel}}</td>
                    <td>{{optionalTel}}</td>
                    <td>{{administrador}}</td>
                    
                    <td><input type="checkbox" checked=false disabled  ></td>
                    <td> <button onclick="eliminar({{idconta}});"><img width="20" height="20" src="images/delete.png"></button>  </td>
                </tr>
        {{/users}}
        </table>
        {{alert}}

    </body>
</html>

 <script>
    


    function pesquisar() {
        var id = document.getElementById("idpesquisa").value;
        if (id==""){
            alert("Campo de pesquisa tem de ter um valor!");
        }else{
             location.replace("http://localhost:8081/users/"+id)
        }
    }

    function eliminar(id) {
        console.log(id);
        var xhttp = new XMLHttpRequest();
        xhttp.open("DELETE", "http://localhost:8081/users/", true);
        xhttp.setRequestHeader("Content-type", "");
        xhttp.send(JSON.stringify({"id":id}));
    }
</script>